

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>lvol – Configure AIX LVM logical volumes &mdash; IBM Power Systems AIX 1.0.0-beta1 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="mkfilt – Activates or deactivates the filter rules." href="mkfilt.html" />
    <link rel="prev" title="lvm_facts – Reports LVM information as facts." href="lvm_facts.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> IBM Power Systems AIX
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">Quickstart</a></li>
</ul>
<p class="caption"><span class="caption-text">References</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../modules.html">Modules</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../modules.html#module-reference">Module reference</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="_nim_upgradeios.html">_nim_upgradeios – Use NIM to update a single or a pair of Virtual I/O Servers.</a></li>
<li class="toctree-l3"><a class="reference internal" href="aixpert.html">aixpert – System security settings management.</a></li>
<li class="toctree-l3"><a class="reference internal" href="alt_disk.html">alt_disk – Alternate rootvg disk management.</a></li>
<li class="toctree-l3"><a class="reference internal" href="backup.html">backup – Data or system volume group backup management.</a></li>
<li class="toctree-l3"><a class="reference internal" href="bootlist.html">bootlist – Alters the list of boot devices available to the system.</a></li>
<li class="toctree-l3"><a class="reference internal" href="devices.html">devices – Devices management.</a></li>
<li class="toctree-l3"><a class="reference internal" href="emgr.html">emgr – System interim fixes management.</a></li>
<li class="toctree-l3"><a class="reference internal" href="filesystem.html">filesystem – Local and NFS filesystems management.</a></li>
<li class="toctree-l3"><a class="reference internal" href="flrtvc.html">flrtvc – Generate FLRTVC report, download and install security and HIPER fixes.</a></li>
<li class="toctree-l3"><a class="reference internal" href="geninstall.html">geninstall – Generic installer for various packaging formats.</a></li>
<li class="toctree-l3"><a class="reference internal" href="group.html">group – Manage presence, attributes and member of AIX groups.</a></li>
<li class="toctree-l3"><a class="reference internal" href="inittab.html">inittab – Manage inittab entries on AIX.</a></li>
<li class="toctree-l3"><a class="reference internal" href="installp.html">installp – Installs and updates software.</a></li>
<li class="toctree-l3"><a class="reference internal" href="lpar_facts.html">lpar_facts – Reports logical partition (LPAR) related information as facts.</a></li>
<li class="toctree-l3"><a class="reference internal" href="lpp_facts.html">lpp_facts – Returns installed software products as facts.</a></li>
<li class="toctree-l3"><a class="reference internal" href="lvg.html">lvg – Configure AIX LVM volume groups</a></li>
<li class="toctree-l3"><a class="reference internal" href="lvm_facts.html">lvm_facts – Reports LVM information as facts.</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">lvol – Configure AIX LVM logical volumes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#synopsis">Synopsis</a></li>
<li class="toctree-l4"><a class="reference internal" href="#requirements">Requirements</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameters">Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#notes">Notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#examples">Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="#return-values">Return Values</a></li>
<li class="toctree-l4"><a class="reference internal" href="#status">Status</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="mkfilt.html">mkfilt – Activates or deactivates the filter rules.</a></li>
<li class="toctree-l3"><a class="reference internal" href="mktcpip.html">mktcpip – Sets the required values for starting TCP/IP on a host.</a></li>
<li class="toctree-l3"><a class="reference internal" href="mktun.html">mktun – Creates, activates, deactivates and removes tunnels.</a></li>
<li class="toctree-l3"><a class="reference internal" href="mount.html">mount – Mounts/unmounts a filesystem or device on AIX.</a></li>
<li class="toctree-l3"><a class="reference internal" href="mpio.html">mpio – Returns information about MultiPath I/O capable devices.</a></li>
<li class="toctree-l3"><a class="reference internal" href="nim.html">nim – Performs NIM operations - server setup, install packages, update SP or TL.</a></li>
<li class="toctree-l3"><a class="reference internal" href="nim_backup.html">nim_backup – Uses NIM to manage backup of LPAR or VIOS clients.</a></li>
<li class="toctree-l3"><a class="reference internal" href="nim_flrtvc.html">nim_flrtvc – Use NIM to generate FLRTVC report, download and install security and HIPER fixes.</a></li>
<li class="toctree-l3"><a class="reference internal" href="nim_suma.html">nim_suma – Use NIM to download fixes, SP or TL from IBM Fix Central website.</a></li>
<li class="toctree-l3"><a class="reference internal" href="nim_updateios.html">nim_updateios – Use NIM to update a single or a pair of Virtual I/O Servers.</a></li>
<li class="toctree-l3"><a class="reference internal" href="nim_vios_alt_disk.html">nim_vios_alt_disk – Uses NIM to create/cleanup an alternate rootvg disk of VIOS clients.</a></li>
<li class="toctree-l3"><a class="reference internal" href="nim_vios_hc.html">nim_vios_hc – Check if a pair of VIOSes can be updated.</a></li>
<li class="toctree-l3"><a class="reference internal" href="nim_viosupgrade.html">nim_viosupgrade – Use NIM to upgrade VIOS(es) with the viosupgrade tool from a NIM master.</a></li>
<li class="toctree-l3"><a class="reference internal" href="reboot.html">reboot – Reboot AIX machines.</a></li>
<li class="toctree-l3"><a class="reference internal" href="suma.html">suma – Download/Install fixes, SP or TL from IBM Fix Central website.</a></li>
<li class="toctree-l3"><a class="reference internal" href="user.html">user – Create new users or change/remove attributes of users on AIX.</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../playbooks.html">Playbooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../roles.html">Roles</a></li>
</ul>
<p class="caption"><span class="caption-text">Community Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../community_guides.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../community_guides.html#helpful-links">Helpful Links</a></li>
</ul>
<p class="caption"><span class="caption-text">Requirements</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../requirements.html">Requirements</a></li>
</ul>
<p class="caption"><span class="caption-text">Appendices</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../release_notes.html">Releases</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">IBM Power Systems AIX</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../modules.html">Modules</a> &raquo;</li>
        
      <li>lvol – Configure AIX LVM logical volumes</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            
              <a href="https://github.com/IBM/ansible-power-aix/blob/dev-collection/docs/source/modules/lvol.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="lvol-configure-aix-lvm-logical-volumes">
<span id="lvol-module"></span><h1>lvol – Configure AIX LVM logical volumes<a class="headerlink" href="#lvol-configure-aix-lvm-logical-volumes" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></p></li>
<li><p><a class="reference internal" href="#requirements" id="id2">Requirements</a></p></li>
<li><p><a class="reference internal" href="#parameters" id="id3">Parameters</a></p></li>
<li><p><a class="reference internal" href="#notes" id="id4">Notes</a></p></li>
<li><p><a class="reference internal" href="#examples" id="id5">Examples</a></p></li>
<li><p><a class="reference internal" href="#return-values" id="id6">Return Values</a></p></li>
<li><p><a class="reference internal" href="#status" id="id7">Status</a></p></li>
</ul>
</div>
<div class="section" id="synopsis">
<h2><a class="toc-backref" href="#id1">Synopsis</a><a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h2>
<p>This module creates, removes and modifies attributes of LVM logical volumes.</p>
</div>
<div class="section" id="requirements">
<h2><a class="toc-backref" href="#id2">Requirements</a><a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h2>
<p>The below requirements are needed on the host that executes this module.</p>
<ul class="simple">
<li><p>AIX &gt;= 7.1 TL3</p></li>
<li><p>Python &gt;= 2.7</p></li>
<li><p>Privileged user with authorizations: <strong>aix.lvm.manage.change,aix.lvm.manage.create,aix.lvm.manage.remove</strong></p></li>
</ul>
</div>
<div class="section" id="parameters">
<h2><a class="toc-backref" href="#id3">Parameters</a><a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><dl>
<dt>state (True, str, None)</dt><dd><p>Specifies the action to be performed on the logical volume.</p>
<p><code class="docutils literal notranslate"><span class="pre">present</span></code> creates or modifies the logical volume if already exists with <em>lv_attributes</em>.</p>
<p><code class="docutils literal notranslate"><span class="pre">absent</span></code> removes a logial volume.</p>
</dd>
<dt>lv (True, str, None)</dt><dd><p>Specified the logical volume name.</p>
</dd>
<dt>vg (optional, str, None)</dt><dd><p>Specifies the volume group name this logical volume is part of.</p>
<p>Required when <em>state=present</em>.</p>
</dd>
<dt>lv_type (optional, str, jfs2)</dt><dd><p>Specifies the type of the logical volume to create.</p>
<p>The standard types are <code class="docutils literal notranslate"><span class="pre">jfs</span></code> for journaled file systems, <code class="docutils literal notranslate"><span class="pre">jfslog</span></code> for journaled file system logs, <code class="docutils literal notranslate"><span class="pre">jfs2</span></code> for enhanced journaled file system, <code class="docutils literal notranslate"><span class="pre">jfs2log</span></code> for enhanced journaled file system logs, <code class="docutils literal notranslate"><span class="pre">paging</span></code> for paging spaces.</p>
<p>But you can define other logical volume types with this flag.</p>
<p>You <strong>cannot</strong> create a striped logical volume of type <code class="docutils literal notranslate"><span class="pre">boot</span></code>.</p>
<p>Can be used to create a logical volume, hence when <em>state=present</em>.</p>
</dd>
<dt>size (optional, str, None)</dt><dd><p>Specifies the size of the logical volume to create.</p>
<p>Can be used to create a logical volume, hence when <em>state=present</em>.</p>
</dd>
<dt>extra_opts (optional, str, None)</dt><dd><p>Any other options to be passed by the user to mklv or chlv command</p>
</dd>
<dt>copies (optional, int, 1)</dt><dd><p>Specifies number of copies of logical volume</p>
<p>Maximum value allowed is 3</p>
<p>Can be used to create a logical volume, hence when <em>state=present</em>.</p>
</dd>
<dt>num_of_logical_partitions (optional, int, 1)</dt><dd><p>Specifies the number of logical partitions</p>
<p>Can be used to create a logical volume, hence when <em>state=present</em>.</p>
</dd>
<dt>pv_list (optional, list, None)</dt><dd><p>List of pysical volumes.</p>
<p>Can be used to create a logical volume, hence when <em>state=present</em>.</p>
</dd>
<dt>policy (optional, str, maximum)</dt><dd><p>Specifies the inter-physical volume allocation policy. It is the number of physical volumes to extend across, using the volumes that provide the best allocation.</p>
<p><code class="docutils literal notranslate"><span class="pre">maximum</span></code> allocates across the maximum number of physical volumes.</p>
<p><code class="docutils literal notranslate"><span class="pre">minimum</span></code> allocates logical partitions across the minimum number of physical volumes.</p>
<p>Can be used to create or modify a logical volume, hence when <em>state=present</em>.</p>
</dd>
<dt>lv_new_name (optional, str, None)</dt><dd><p>Specifies the name of the logical volume to change an existing logical volume.</p>
<p>Can be used to modify a logical volume, hence when <em>state=present</em>.</p>
</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="notes">
<h2><a class="toc-backref" href="#id4">Notes</a><a class="headerlink" href="#notes" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p><strong>Attention:</strong> using <em>state=absent</em> destroys all data in the specified logical volumes. If the logical volume spans multiple physical volumes, the removal of only logical partitions on the physical volume can jeopardize the integrity of the entire logical volume.</p></li>
<li><p>You can refer to the IBM documentation for additional information on the commands used at <a class="reference external" href="https://www.ibm.com/support/knowledgecenter/ssw_aix_72/c_commands/chlv.html">https://www.ibm.com/support/knowledgecenter/ssw_aix_72/c_commands/chlv.html</a>, <a class="reference external" href="https://www.ibm.com/support/knowledgecenter/ssw_aix_72/m_commands/mklv.html">https://www.ibm.com/support/knowledgecenter/ssw_aix_72/m_commands/mklv.html</a>, <a class="reference external" href="https://www.ibm.com/support/knowledgecenter/ssw_aix_72/r_commands/rmlv.html">https://www.ibm.com/support/knowledgecenter/ssw_aix_72/r_commands/rmlv.html</a>.</p></li>
</ul>
</div>
</div>
<div class="section" id="examples">
<h2><a class="toc-backref" href="#id5">Examples</a><a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<div class="highlight-yaml+jinja notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Create a logical volume of 64M</span>
  <span class="nt">ibm.power_aix.lvol</span><span class="p">:</span>
    <span class="nt">vg</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">test1vg</span>
    <span class="nt">lv</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">test1lv</span>
    <span class="nt">size</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">64M</span>
<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Create a logical volume of 32M with disks testdisk1 and testdisk2</span>
  <span class="nt">ibm.power_aix.lvol</span><span class="p">:</span>
    <span class="nt">vg</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">test2vg</span>
    <span class="nt">lv</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">test2lv</span>
    <span class="nt">size</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">32M</span>
    <span class="nt">pvs</span><span class="p">:</span> <span class="p p-Indicator">[</span> <span class="nv">testdisk1</span><span class="p p-Indicator">,</span> <span class="nv">testdisk2</span> <span class="p p-Indicator">]</span>
<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Create a logical volume of 32M with a minimum placement policy</span>
  <span class="nt">ibm.power_aix.lvol</span><span class="p">:</span>
    <span class="nt">vg</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">rootvg</span>
    <span class="nt">lv</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">test4lv</span>
    <span class="nt">size</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">32M</span>
    <span class="nt">policy</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">minimum</span>
<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Create a logical volume with extra options like mirror pool</span>
  <span class="nt">ibm.power_aix.lvol</span><span class="p">:</span>
    <span class="nt">vg</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">testvg</span>
    <span class="nt">lv</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">testlv</span>
    <span class="nt">size</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">128M</span>
    <span class="nt">extra_opts</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">-p copy1=poolA -p copy2=poolB</span>
<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Remove the logical volume</span>
  <span class="nt">ibm.power_aix.lvol</span><span class="p">:</span>
    <span class="nt">vg</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">test1vg</span>
    <span class="nt">lv</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">test1lv</span>
    <span class="nt">state</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">absent</span>
</pre></div>
</div>
</div>
<div class="section" id="return-values">
<h2><a class="toc-backref" href="#id6">Return Values</a><a class="headerlink" href="#return-values" title="Permalink to this headline">¶</a></h2>
<dl class="simple">
<dt>msg (always, str, Logical volume test1lv created.)</dt><dd><p>The execution message.</p>
</dd>
<dt>cmd (always, str, )</dt><dd><p>The command executed.</p>
</dd>
<dt>rc (When the command is executed., int, )</dt><dd><p>The command return code.</p>
</dd>
<dt>stdout (always, str, )</dt><dd><p>The standard output of the command.</p>
</dd>
<dt>stderr (always, str, )</dt><dd><p>The standard error of the command.</p>
</dd>
</dl>
</div>
<div class="section" id="status">
<h2><a class="toc-backref" href="#id7">Status</a><a class="headerlink" href="#status" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>This module is not guaranteed to have a backwards compatible interface. <em>[preview]</em></p></li>
<li><p>This module is maintained by community.</p></li>
</ul>
<div class="section" id="authors">
<h3>Authors<a class="headerlink" href="#authors" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>AIX development Team (&#64;pbfinley1911)</p></li>
</ul>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="mkfilt.html" class="btn btn-neutral float-right" title="mkfilt – Activates or deactivates the filter rules." accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="lvm_facts.html" class="btn btn-neutral float-left" title="lvm_facts – Reports LVM information as facts." accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, IBM.

    </p>
  </div> 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>